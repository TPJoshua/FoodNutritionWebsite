@page "/Staffs/create/"
@inject HttpClient _client
@inject NavigationManager _navManager

<h3 class="card-title">Create New Staff</h3>
<hr />
<br />

<EditForm Model="@staff" OnValidSubmit="CreateStaff">
	<DataAnnotationsValidator />
	<ValidationSummary />

	<div class="form-group">
		<label>First Name: </label>
		<div>
			<InputText @bind-Value="@staff.FirstName" class="form-control" />
			<ValidationMessage For="@(() => staff.FirstName)" />
		</div>
	</div>
	<div class="form-group">
		<label>Last Name: </label>
		<div>
			<InputText @bind-Value="@staff.LastName" class="form-control" />
			<ValidationMessage For="@(() => staff.LastName)" />
		</div>
	</div>
	<div class="form-group">
		<label>Date Of Birth: </label>
		<div>
			<InputDate @bind-Value="@staff.DOB" class="form-control" />
			<ValidationMessage For="@(() => staff.DOB)" />
		</div>
	</div>
	<div class="form-group">
		<label>Gender: </label>
		<div>
			<InputText @bind-Value="@staff.Gender" class="form-control" />
			<ValidationMessage For="@(() => staff.Gender)" />
		</div>
	</div>
	<div class="form-group">
		<label>Contact Number: </label>
		<div>
			<InputText @bind-Value="@staff.ContactNumber" class="form-control" />
			<ValidationMessage For="@(() => staff.ContactNumber)" />
		</div>
	</div>
	<div class="form-group">
		<label>Personal Email: </label>
		<div>
			<InputText @bind-Value="@staff.PersonalEmail" class="form-control" />
			<ValidationMessage For="@(() => staff.PersonalEmail)" />
		</div>
	</div>
	<div class="form-group">
		<label>Work Email: </label>
		<div>
			<InputText @bind-Value="@staff.WorkEmail" class="form-control" />
			<ValidationMessage For="@(() => staff.WorkEmail)" />
		</div>
	</div>
	<div class="form-group">
		<label>Address: </label>
		<div>
			<InputText @bind-Value="@staff.Address" class="form-control" />
			<ValidationMessage For="@(() => staff.Address)" />
		</div>
	</div>
	<div class="form-group">
		<label>Role: </label>
		<div>
			<InputText @bind-Value="@staff.Role" class="form-control" />
			<ValidationMessage For="@(() => staff.Role)" />
		</div>
	</div>
	<div class="form-group">
		<label>Start Date: </label>
		<div>	
			<InputDate @bind-Value="@staff.StartDate" class="form-control" />
			<ValidationMessage For="@(() => staff.StartDate)" />
		</div>
	</div>

	<button type="submit" class="btn btn-success btn-block">
		Create Staff
	</button>
</EditForm>

@code {
    Staff staff = new Staff();

	private async Task CreateStaff()
	{
		await _client.PostAsJsonAsync("api/Staffs/", staff);
		_navManager.NavigateTo("/Staffs/");
	}
}
